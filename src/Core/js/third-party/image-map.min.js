((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).ImageMap=t()})(this,function(){function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o="load",d="usemap",c="coords",n=(()=>{function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.selector=e instanceof Array?e:document.querySelectorAll(e),"complete"!==document.readyState?window.addEventListener(o,this.update.bind(this)):this.update(),window.addEventListener("resize",this.debounce(this.update,t).bind(this))}var e,t,r;return e=n,r=[{key:"genAreaSelector",value:function(e){return'map[name="'.concat(e,'"] area')}}],(t=[{key:"update",value:function(){for(var e=this.selector,t=0;t<e.length;t++){var n=e[t];if(void 0===n.getAttribute(d))return;var r=n.cloneNode();r.addEventListener(o,this.handleImageLoad(n.offsetWidth,n.offsetHeight)),r.src=n.src}}},{key:"debounce",value:function(r){var a,o=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window.clearTimeout(a),a=window.setTimeout(function(e){return r.apply(e,t)},i,o)}}},{key:"handleImageLoad",value:function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return function(e){for(var r=e.target.width,a=e.target.height,e=e.target.getAttribute(d).replace(/^#/,""),o=document.querySelectorAll(n.genAreaSelector(e)),t=0;t<o.length;t++)(e=>{var n=((e=o[e]).dataset[c]=e.dataset[c]||e.getAttribute(c)).split(","),t=n.map(function(e,t){return t%2==0?Number(n[t]/r*i):Number(n[t]/a*u)});e.setAttribute(c,t.toString())})(t)}}}])&&a(e.prototype,t),r&&a(e,r),n})();function e(e,t){return new n(e,t)}return e.VERSION="2.0.1",e});