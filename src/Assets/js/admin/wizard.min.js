!function(s){"use strict";s(document).ready((function(){!function(){var e=s("#mds-create-pages-button"),t=s("#mds-create-pages-status");if(!e.length)return;e.on("click",(function(a){a.preventDefault(),e.addClass("updating-message").prop("disabled",!0),t.removeClass("mds-status-success mds-status-error").html("<p>"+mdsWizard.strings.creating_pages+"</p>"),s.ajax({url:mdsWizard.ajaxurl,type:"POST",data:{action:"mds_wizard_create_pages",nonce:mdsWizard.nonce},success:function(s){e.removeClass("updating-message").prop("disabled",!1),s.success?(t.addClass("mds-status-success").html("<p>"+mdsWizard.strings.success+"</p>"),setTimeout((function(){window.location.href=window.location.href.replace("step=pages","step=settings")}),1500)):t.addClass("mds-status-error").html("<p>"+mdsWizard.strings.error+" "+s.data.message+"</p>")},error:function(){e.removeClass("updating-message").prop("disabled",!1),t.addClass("mds-status-error").html("<p>"+mdsWizard.strings.error+" Could not create pages. Please try again or create them manually from the Options page.</p>")}})}))}(),function(){var e=s("#mds-save-settings-button"),t=s("#mds-wizard-settings-form"),a=s("#mds-settings-status");if(!e.length||!t.length)return;e.on("click",(function(r){r.preventDefault(),e.addClass("updating-message").prop("disabled",!0),a.removeClass("mds-status-success mds-status-error").html("<p>"+mdsWizard.strings.saving_settings+"</p>");var n={action:"mds_wizard_save_settings",nonce:mdsWizard.nonce,pixel_selection_method:t.find('select[name="pixel_selection_method"]').val(),price_per_pixel:t.find('input[name="price_per_pixel"]').val(),grid_width:t.find('input[name="grid_width"]').val(),grid_height:t.find('input[name="grid_height"]').val(),enable_woocommerce:t.find('input[name="enable_woocommerce"]').val()};s.ajax({url:mdsWizard.ajaxurl,type:"POST",data:n,success:function(s){e.removeClass("updating-message").prop("disabled",!1),s.success?(a.addClass("mds-status-success").html("<p>"+mdsWizard.strings.success+" "+s.data.message+"</p>"),setTimeout((function(){window.location.href=window.location.href.replace("step=settings","step=complete")}),1500)):a.addClass("mds-status-error").html("<p>"+mdsWizard.strings.error+" "+s.data.message+"</p>")},error:function(){e.removeClass("updating-message").prop("disabled",!1),a.addClass("mds-status-error").html("<p>"+mdsWizard.strings.error+" Could not save settings. Please try again or configure them manually from the Options page.</p>")}})}))}(),function(){0===s("#mds-wizard-fire-cursor").length&&s("body").append('<div id="mds-wizard-fire-cursor"></div>');var e=s(".mds-wizard-fire-header"),t=s("#mds-wizard-fire-cursor");if(!e.length)return;var a={x:0,y:0},r={x:0,y:0},n=!1,i=.1;function d(s,e,t){return s*(1-t)+e*t}function o(){n&&(a.x=d(a.x,r.x,i),a.y=d(a.y,r.y,i),t.css({left:a.x,top:a.y})),requestAnimationFrame(o)}e.on("mouseenter",(function(){n=!0,t.css("opacity",1)})).on("mouseleave",(function(){n=!1,t.css("opacity",0)})).on("mousemove",(function(s){var e=this.getBoundingClientRect();r.x=s.pageX-e.left-window.scrollX,r.y=s.pageY-e.top-window.scrollY})),o()}(),function(){var e=s(".step-indicator li");if(!e.length)return;e.each((function(e){s(this).css("--step-index",e)}))}(),"function"==typeof main&&main()}))}(jQuery);