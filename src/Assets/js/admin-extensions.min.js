jQuery(document).ready((function(e){"use strict";function t(t,n,a=!0){const s="error"===t?"notice-error":"warning"===t?"notice-warning":"notice-success",i=`\n\t\t\t<div class="notice ${s} is-dismissible mds-enhanced-notice">\n\t\t\t\t<p><span class="mds-notice-icon">${"error"===t?"❌":"warning"===t?"⚠️":"✅"}</span> ${n}</p>\n\t\t\t\t<button type="button" class="notice-dismiss">\n\t\t\t\t\t<span class="screen-reader-text">Dismiss this notice.</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t`;e(".mds-enhanced-notice").remove();const o=e(i),d=e("#mds-extensions-notices");if(d.length)o.appendTo(d);else{const t=e("#mds-extensions-page .mds-extensions-container").first();t.length?o.insertBefore(t):o.prependTo(e("#wpbody-content").first())}o.show(),a&&"success"===t&&setTimeout((()=>{e(".mds-enhanced-notice.notice."+s).remove()}),5e3),e(document).off("click",".mds-enhanced-notice .notice-dismiss").on("click",".mds-enhanced-notice .notice-dismiss",(function(){e(this).closest(".mds-enhanced-notice").remove()}))}function n(e,t){e.data("original-html",e.html()),e.prop("disabled",!0).html(`<span class="spinner is-active"></span> ${t}`).addClass("mds-btn-loading")}function a(e,t=null){const n=t||e.data("original-html")||e.html();e.prop("disabled",!1).html(n).removeClass("mds-btn-loading")}function s(t,n,a){!function(){if(e("#mds-purchase-modal").length)return;e("body").append('\n\t\t\t<div id="mds-purchase-modal" class="mds-modal-overlay" role="dialog" aria-modal="true" aria-labelledby="mds-purchase-title">\n\t\t\t\t<div class="mds-modal">\n\t\t\t\t\t<header><span id="mds-purchase-title">Select a plan</span></header>\n\t\t\t\t\t<div class="mds-modal-body">\n\t\t\t\t\t\t<div class="mds-plan-options"></div>\n\t\t\t\t\t\t<div class="mds-plan-error" style="color:#b91c1c; display:none;"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<footer>\n\t\t\t\t\t\t<button type="button" class="button mds-modal-cancel">Cancel</button>\n\t\t\t\t\t\t<button type="button" class="button button-primary mds-modal-continue" disabled>Continue</button>\n\t\t\t\t\t</footer>\n\t\t\t\t</div>\n\t\t\t</div>')}();const s=e("#mds-purchase-modal"),i=s.find(".mds-plan-options"),o=s.find(".mds-plan-error"),d=s.find(".mds-modal-continue");o.hide().text(""),d.prop("disabled",!0).data("extension-id",t).data("nonce",n).data("plan",""),i.html("<p>Loading plans…</p>"),s.css("display","flex"),e.ajax({url:MDS_EXTENSIONS_DATA.ajax_url,type:"POST",dataType:"json",data:{action:"mds_fetch_extension",nonce:MDS_EXTENSIONS_DATA.nonce,extension_id:t},success:function(t){if(!(t&&t.success&&t.data&&t.data.extension))return void o.text("Could not load plans.").show();const n=t.data.extension.purchase_links||{},s=[];if(n.one_time&&s.push({key:"one_time",label:"One-time",url:n.one_time}),n.monthly&&s.push({key:"monthly",label:"Monthly",url:n.monthly}),n.yearly&&s.push({key:"yearly",label:"Yearly",url:n.yearly}),n.default&&0===s.length&&s.push({key:"default",label:"Purchase",url:n.default}),0===s.length)return void i.html("<p>No plans available for purchase.</p>");const c=s.map((e=>`\n\t\t\t\t\t<label style="display:flex;align-items:center;gap:8px;margin:6px 0;">\n\t\t\t\t\t\t<input type="radio" name="mds-plan" value="${e.key}">\n\t\t\t\t\t\t<span>${e.label}</span>\n\t\t\t\t\t</label>`)).join("");i.html(c),a&&(i.find(`input[value="${a}"]`).prop("checked",!0),d.prop("disabled",!1).data("plan",a)),i.off("change",'input[name="mds-plan"]').on("change",'input[name="mds-plan"]',(function(){const t=e(this).val();d.prop("disabled",!t).data("plan",t)}))},error:function(){o.text("Could not load plans.").show()}})}!function(){try{const t=e("#mds-extensions-notices"),n=e("#mds-extensions-page .mds-extensions-header .notice");if(n.length)if(t.length)n.detach().appendTo(t);else{const t=e("#mds-extensions-page .mds-extensions-container").first();t.length&&n.detach().insertBefore(t)}}catch(e){}}(),function(){try{const t=window.MDS_EXTENSIONS_DATA&&MDS_EXTENSIONS_DATA.license_key?String(MDS_EXTENSIONS_DATA.license_key).trim():"",n=(window.MDS_EXTENSIONS_DATA&&MDS_EXTENSIONS_DATA.extension_server_url?MDS_EXTENSIONS_DATA.extension_server_url:"http://localhost:15346").replace(/\/+$/,""),a=e('table.widefat tbody tr[data-is-premium="true"]').filter((function(){return!e(this).attr("data-plugin-file")}));function s(t,n){const a=t.find(".mds-purchase-buttons");a.length&&!t.find(".mds-license-required-note").length&&e('<span class="mds-license-required-note" title="License required" style="margin-left:8px;color:#666;">'+(n||"License required")+"</span>").appendTo(a)}function i(e,t){const n=e.find(".mds-install-extension");n.length&&(n.prop("disabled",!0).addClass("disabled").attr("aria-disabled","true").attr("title",t||"License required"),s(e,"License required"))}function o(e){const t=e.find(".mds-install-extension");t.length&&(t.prop("disabled",!1).removeClass("disabled").removeAttr("aria-disabled").removeAttr("title"),e.find(".mds-license-required-note").remove())}if(!a.length)return;if(!t)return void a.each((function(){const t=e(this);"true"===String(t.data("is-licensed")||"").toLowerCase()?o(t):i(t)}));const d=a.toArray();function c(a){if(a>=d.length)return;const s=e(d[a]),l=s.data("extension-id");if(i(s,"Validating license..."),!l)return c(a+1);const r=n+"/api/public/licenses/lookup?key="+encodeURIComponent(t)+"&extensionId="+encodeURIComponent(String(l));fetch(r,{method:"GET",credentials:"omit"}).then((e=>e.ok?e.json():Promise.reject(new Error("HTTP "+e.status)))).then((e=>{!0===(e&&!0===e.valid||e&&e.data&&!0===e.data.valid)?o(s):i(s)})).catch((()=>{i(s)})).finally((()=>c(a+1)))}c(0)}catch(l){e('table.widefat tbody tr[data-is-premium="true"]').filter((function(){return!e(this).attr("data-plugin-file")})).each((function(){const t=e(this),n=t.find(".mds-install-extension");n.length&&n.prop("disabled",!0).addClass("disabled").attr("aria-disabled","true").attr("title","License required");const a=t.find(".mds-purchase-buttons");a.length&&!t.find(".mds-license-required-note").length&&a.append('<span class="mds-license-required-note" title="License required" style="margin-left:8px;color:#666;">License required</span>')}))}}(),e(document).on("click",".mds-check-updates",(function(s){s.preventDefault();const i=e(this),o=i.closest("tr"),d=o.data("extension-id"),c=o.data("version"),l=o.data("plugin-file");n(i,"Checking..."),e.ajax({url:MDS_EXTENSIONS_DATA.ajax_url,type:"POST",data:{action:"mds_check_extension_updates",nonce:MDS_EXTENSIONS_DATA.nonce,extension_id:d,current_version:c,plugin_file:l},dataType:"json",success:function(e){e.success?function(e,t){const n=t.find(".mds-update-cell"),s=t.find(".mds-check-updates"),i=e.latest_version||e.new_version||e.version||"",o=e.download_url||e.package_url||"",d=t.data("extension-id")||"";if(e.update_available){const t=`\n\t\t\t\t<div class="mds-update-available">\n\t\t\t\t\t<p><strong>Version ${i} is available!</strong></p>\n\t\t\t\t\t${e.changelog?`<div class="mds-changelog">${e.changelog}</div>`:""}\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<button class="button button-primary mds-install-update"\n\t\t\t\t\t\t\t\tdata-download-url="${o}"\n\t\t\t\t\t\t\t\tdata-extension-id="${d}">\n\t\t\t\t\t\t\tUpdate Now\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t`;n.html(t),a(s,"Check Again")}else n.html('<span class="mds-no-updates">You have the latest version.</span>'),a(s,"Check for Updates");t.trigger("mds-update-checked")}(e.data,o):(t("error",e.data.message||"Failed to check for updates."),a(i))},error:function(){t("error","An error occurred while checking for updates."),a(i)}})})),e(document).on("click",".mds-install-update",(function(s){s.preventDefault();const i=e(this),o=i.closest("tr"),d=i.data("extension-id")||o.data("extension-id"),c=i.data("extension-slug")||"",l=i.data("download-url");l&&d?confirm("Install this update now?")&&(n(i,"Updating..."),e.ajax({url:MDS_EXTENSIONS_DATA.ajax_url,type:"POST",data:{action:"mds_install_extension_update",nonce:MDS_EXTENSIONS_DATA.nonce,extension_id:d,extension_slug:c,download_url:l},dataType:"json",success:function(e){e.success?(t("success",e.data.message||"Update installed successfully."),e.data.reload&&setTimeout((()=>window.location.reload()),2e3)):(t("error",e.data.message||"Failed to install update."),a(i))},error:function(){t("error","An error occurred while installing the update."),a(i)}})):t("error","Missing update package information.")})),e(document).on("click",".mds-install-extension",(function(s){s.preventDefault();const i=e(this),o=i.closest("tr"),d=i.data("extension-id"),c=i.data("extension-slug"),l=o.data("is-premium"),r=!0===l||"true"===l,u="true"===String(o.data("is-licensed")||"").toLowerCase()||!(!MDS_EXTENSIONS_DATA.license_key||!String(MDS_EXTENSIONS_DATA.license_key).trim());if(!r||u)n(i,"Installing..."),e.ajax({url:MDS_EXTENSIONS_DATA.ajax_url,type:"POST",data:{action:"mds_install_extension",nonce:MDS_EXTENSIONS_DATA.nonce,extension_id:d,extension_slug:c},dataType:"json",success:function(e){e.success?(t("success",e.data.message||"Extension installed successfully."),e.data.reload&&setTimeout((()=>window.location.reload()),2e3)):(t("error",e.data.message||"Failed to install extension."),a(i))},error:function(){t("error","An error occurred while installing the extension."),a(i)}});else{t("warning",`This extension requires a valid license. Enter your license key at Million Dollar Script → Options → System → License Key. <a href="${MDS_EXTENSIONS_DATA.settings_url||"#"}">Open System tab</a>`,!1)}})),e(document).on("click",".mds-activate-extension",(function(s){s.preventDefault();const i=e(this),o=i.data("extension-slug"),d=i.data("nonce");confirm(MDS_EXTENSIONS_DATA.i18n?.confirm_activation||"Are you sure you want to activate this extension?")&&(n(i,MDS_EXTENSIONS_DATA.i18n?.activating||"Activating..."),e.ajax({url:MDS_EXTENSIONS_DATA.ajax_url,type:"POST",data:{action:"mds_activate_extension",nonce:d,extension_slug:o},dataType:"json",success:function(n){if(n.success)if(t("success",n.data.message||MDS_EXTENSIONS_DATA.i18n?.activation_success||"Extension activated successfully."),!1!==n.data.reload)setTimeout((()=>window.location.reload()),1500);else{const t=e('<span class="button button-secondary mds-ext-active" disabled="disabled">Active</span>');i.replaceWith(t)}else t("error",n.data.message||MDS_EXTENSIONS_DATA.i18n?.activation_failed||"Failed to activate extension."),a(i,MDS_EXTENSIONS_DATA.i18n?.activate||"Activate")},error:function(){t("error",MDS_EXTENSIONS_DATA.i18n?.activation_error||"An error occurred while activating the extension."),a(i,MDS_EXTENSIONS_DATA.i18n?.activate||"Activate")}}))})),e(document).on("click",".mds-check-all-updates",(function(s){s.preventDefault();const i=e(this),o=e("tr[data-extension-id]");let d=0,c=!1;function l(){d>=o.length&&(a(i),t("success",c?"Finished checking for updates. Some extensions have updates available.":"All extensions are up to date."))}n(i,"Checking All..."),o.each((function(){const t=e(this),n=t.find(".mds-check-updates");if(n.prop("disabled"))return d++,void l();n.trigger("click"),t.off("mds-update-checked").on("mds-update-checked",(function(){d++,t.find(".mds-update-available").length&&(c=!0),l()}))}))})),e(document).on("click",".mds-manage-subscription",(function(){const t=e(this).data("extension-slug");!function(){if(e("#mds-manage-modal").length)return;e("body").append('\n        <div id="mds-manage-modal" class="mds-modal-overlay" role="dialog" aria-modal="true" aria-labelledby="mds-manage-title">\n            <div class="mds-modal">\n                <header><span id="mds-manage-title">Manage subscription</span></header>\n                <div class="mds-modal-body">\n                    <div class="mds-manage-content">\n                        <p class="mds-manage-loading">Loading…</p>\n                        <div class="mds-manage-error" style="color:#b91c1c; display:none;"></div>\n                        <div class="mds-manage-details" style="display:none;">\n                            <div class="mds-current-plan"></div>\n                            <fieldset class="mds-plan-change" style="margin-top:10px;">\n                                <legend>Change plan</legend>\n                                <div class="mds-plan-options"></div>\n                            </fieldset>\n                        </div>\n                    </div>\n                </div>\n                <footer>\n                    <button type="button" class="button mds-modal-cancel">Close</button>\n                    <button type="button" class="button mds-cancel-subscription">Cancel auto-renew</button>\n                    <button type="button" class="button button-primary mds-apply-plan" disabled>Apply</button>\n                </footer>\n            </div>\n        </div>')}();const n=e("#mds-manage-modal"),a=n.find(".mds-manage-loading"),s=n.find(".mds-manage-error"),i=n.find(".mds-manage-details"),o=n.find(".mds-plan-options"),d=n.find(".mds-apply-plan").prop("disabled",!0).data("extension-slug",t);n.find(".mds-cancel-subscription").data("extension-slug",t);s.hide().text(""),i.hide(),a.show(),n.css("display","flex"),e.post(MDS_EXTENSIONS_DATA.ajax_url,{action:"mds_get_subscription",nonce:MDS_EXTENSIONS_DATA.nonce,extension_slug:t}).done((function(t){if(!t||!t.success||!t.data)return void s.text(t&&t.data&&t.data.message||"Could not load subscription.").show();const a=t.data,c=a.currentPlan||a.plan||"",l=a.currentPlanDescription||"",r=a.availablePlans||[];let u=l;if(!u){if(u={one_time:"One-time (no renewals)",monthly:"Monthly subscription",yearly:"Yearly subscription"}[c]||c||"",("monthly"===c||"yearly"===c)&&a.renewsAt)try{u+=" (renews "+new Date(a.renewsAt).toLocaleDateString()+")"}catch{}}if(n.find(".mds-current-plan").text(u?"Current plan: "+u:""),r.length){const t={one_time:"One-time",monthly:"Monthly subscription",yearly:"Yearly subscription"},n=r.map((e=>`<label style="display:flex;align-items:center;gap:8px;margin:6px 0;"><input type="radio" name="mds-manage-plan" value="${e}"><span>${t[e]||e}</span></label>`)).join("");o.html(n),o.off("change",'input[name="mds-manage-plan"]').on("change",'input[name="mds-manage-plan"]',(function(){d.prop("disabled",!e(this).val()).data("plan",e(this).val())}))}else o.html("<p>No alternative plans available.</p>");i.show()})).fail((function(){s.text("Could not load subscription.").show()})).always((function(){a.hide()}))})),e(document).on("click","#mds-manage-modal .mds-modal-cancel",(function(){e("#mds-manage-modal").hide()})),e(document).on("click",".mds-apply-plan",(function(){const n=e(this),a=n.data("extension-slug"),s=n.data("plan");a&&s&&(n.prop("disabled",!0).text("Applying…"),e.post(MDS_EXTENSIONS_DATA.ajax_url,{action:"mds_change_subscription_plan",nonce:MDS_EXTENSIONS_DATA.nonce,extension_slug:a,plan:s}).done((function(e){e&&e.success?(t("success",e.data&&e.data.message||"Plan changed."),setTimeout((()=>window.location.reload()),800)):t("error",e&&e.data&&e.data.message||"Failed to change plan.",!1)})).fail((function(){t("error","Failed to change plan.",!1)})).always((function(){n.prop("disabled",!1).text("Apply")})))})),e(document).on("click",".mds-cancel-subscription",(function(){if(!confirm("Cancel automatic renewal for this subscription?"))return;const n=e(this).prop("disabled",!0).text("Canceling…"),a=n.data("extension-slug");e.post(MDS_EXTENSIONS_DATA.ajax_url,{action:"mds_cancel_subscription",nonce:MDS_EXTENSIONS_DATA.nonce,extension_slug:a}).done((function(e){e&&e.success?(t("success",e.data&&e.data.message||"Auto-renew canceled."),setTimeout((()=>window.location.reload()),800)):t("error",e&&e.data&&e.data.message||"Failed to cancel.",!1)})).fail((function(){t("error","Failed to cancel.",!1)})).always((function(){n.prop("disabled",!1).text("Cancel auto-renew")}))})),e(document).on("click","#mds-purchase-modal .mds-modal-cancel",(function(){e("#mds-purchase-modal").hide()})),e(document).on("click","#mds-purchase-modal .mds-modal-continue",(function(){const t=e(this),n=t.data("extension-id"),a=t.data("nonce"),s=t.data("plan");n&&a&&(t.prop("disabled",!0).text("Continuing…"),e.ajax({url:MDS_EXTENSIONS_DATA.ajax_url,type:"POST",dataType:"json",data:{action:"mds_purchase_extension",nonce:a,extension_id:n,plan:s},success:function(n){n&&n.success&&n.data&&n.data.checkout_url?window.location.href=n.data.checkout_url:(e(".mds-plan-error").text(n&&n.data&&n.data.message||"Failed to initiate purchase.").show(),t.prop("disabled",!1).text("Continue"))},error:function(){e(".mds-plan-error").text("Failed to initiate purchase.").show(),t.prop("disabled",!1).text("Continue")}}))})),e(document).on("click",".mds-purchase-extension",(function(t){t.preventDefault();const n=e(this);s(n.data("extension-id"),n.data("nonce"),n.data("plan")||null)})),function(){try{const n=window.MDS_EXTENSIONS_DATA&&MDS_EXTENSIONS_DATA.purchase||{};if(!n||"success"!==n.status)return;const a=String(n.claim_token||"").trim(),s=String(n.ext_slug||"").trim();if(!a||!s)return;const i=String(MDS_EXTENSIONS_DATA.site_id||"").trim();if(!i)return;let o=0;const d=12,c=()=>{o++,1===o&&t("success","Finalizing your purchase (claiming license)...",!1),e.ajax({url:MDS_EXTENSIONS_DATA.ajax_url,type:"POST",data:{action:"mds_claim_license",nonce:MDS_EXTENSIONS_DATA.nonce,extension_slug:s,claim_token:a,site_id:i},dataType:"json",success:function(e){if(e&&e.success)t("success","License claimed. You can now install the extension."),setTimeout((()=>window.location.replace(window.location.href.replace(/([?&])purchase=success[^&]*/,"$1"))),1500);else if(o<d)setTimeout(c,5e3);else{t("error",e&&e.data&&e.data.message?e.data.message:"License claim failed.",!1)}},error:function(){o<d?setTimeout(c,5e3):t("error","An error occurred while claiming the license.",!1)}})};c()}catch(e){}}(),e(document).on("click",".mds-activate-license",(function(s){s.preventDefault();const i=e(this).closest(".mds-license-form"),o=e(this),d=i.data("extension-slug");let c=i.find('input[name="license_key"]').val();const l=i.find('input[name="nonce"]').val(),r=()=>{n(o,"Activating..."),e.post(MDS_EXTENSIONS_DATA.ajax_url,{action:"mds_activate_license",extension_slug:d,license_key:c,nonce:l}).done((function(e){if(e&&e.success)location.reload();else{t("error",e&&e.data&&e.data.message?e.data.message:"Activation failed.",!1),a(o,"Activate")}})).fail((function(){t("error","An error occurred during activation.",!1),a(o,"Activate")}))};c?r():e.post(MDS_EXTENSIONS_DATA.ajax_url,{action:"mds_get_license_plaintext",nonce:MDS_EXTENSIONS_DATA.nonce,extension_slug:d}).done((function(e){e&&e.success&&e.data&&e.data.license_key&&(c=e.data.license_key)})).always(r)})),e(document).on("click",".mds-deactivate-license",(function(s){s.preventDefault();const i=e(this).closest(".mds-license-form"),o=e(this),d=i.data("extension-slug"),c=i.find('input[name="nonce"]').val();n(o,"Deactivating..."),e.post(MDS_EXTENSIONS_DATA.ajax_url,{action:"mds_deactivate_license",extension_slug:d,nonce:c}).done((function(e){if(e&&e.success)location.reload();else{t("error",e&&e.data&&e.data.message?e.data.message:"Deactivation failed.",!1),a(o,"Deactivate")}})).fail((function(){t("error","An error occurred during deactivation.",!1),a(o,"Deactivate")}))})),e(document).on("click",".mds-inline-license-visibility",(function(){const t=e(this),n=t.closest(".mds-inline-license"),a=n.find('.mds-inline-license-key, input[name="license_key"]'),s=t.find(".dashicons"),i=n.data("extension-slug");"password"===a.attr("type")?a.val()?(a.attr("type","text"),t.attr("aria-label","Hide"),s.removeClass("dashicons-hidden").addClass("dashicons-visibility")):e.post(MDS_EXTENSIONS_DATA.ajax_url,{action:"mds_get_license_plaintext",nonce:MDS_EXTENSIONS_DATA.nonce,extension_slug:i}).done((function(e){e&&e.success&&e.data&&e.data.license_key&&a.val(e.data.license_key)})).always((function(){a.attr("type","text"),t.attr("aria-label","Hide"),s.removeClass("dashicons-hidden").addClass("dashicons-visibility")})):(a.attr("type","password"),t.attr("aria-label","Show"),s.removeClass("dashicons-visibility").addClass("dashicons-hidden"))})),function(){try{e(".mds-license-cell").each((function(t){const n=e(this);if(n.data("manage-init"))return;const a=n.find(".mds-inline-license, .mds-license-form").first();if(!a.length)return;const s="mds-license-content-"+t;if(a.parent().hasClass("mds-license-manage-content")||a.wrap('<div class="mds-license-manage-content" id="'+s+'" aria-hidden="true"></div>'),!n.find(".mds-manage-license-toggle").length){const t=e('<button type="button" class="button-link mds-manage-license-toggle" aria-expanded="false" aria-controls="'+s+'">'+(MDS_EXTENSIONS_DATA.text?.manage_license||"Manage License")+"</button>");n.prepend(t)}n.attr("data-manage-init","1")}))}catch(e){}}(),e(document).on("click",".mds-manage-license-toggle",(function(t){t.preventDefault();const n=e(this),a=n.attr("aria-controls"),s=e("#"+a);"true"===n.attr("aria-expanded")?(s.removeClass("is-open").attr("aria-hidden","true"),n.attr("aria-expanded","false").text(MDS_EXTENSIONS_DATA.text?.manage_license||"Manage License")):(s.addClass("is-open").attr("aria-hidden","false"),n.attr("aria-expanded","true").text(MDS_EXTENSIONS_DATA.text?.hide_license||"Hide"))})),e(document).on("click",".mds-inline-license-activate",(function(){const s=e(this).closest(".mds-inline-license"),i=s.find(".mds-inline-license-key"),o=s.data("extension-slug"),d=String(i.val()||"").trim();if(!d)return void t("warning","Enter a license key first.",!1);const c=e(this);n(c,"Validating..."),e.post(MDS_EXTENSIONS_DATA.ajax_url,{action:"mds_available_activate_license",nonce:MDS_EXTENSIONS_DATA.nonce,extension_slug:o,license_key:d}).done((function(e){e&&e.success?(t("success",e.data&&e.data.message?e.data.message:"License updated."),setTimeout((()=>window.location.reload()),1e3)):t("error",e&&e.data&&e.data.message||"Failed to save license.",!1)})).fail((function(){t("error","Failed to save license.",!1)})).always((function(){a(c,"Activate")}))}))}));