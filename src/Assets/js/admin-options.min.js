jQuery(document).ready(function($){let{select,dispatch}=window.cf.vendor["@wordpress/data"],metaboxes=select("carbon-fields/metaboxes"),{updateFieldValue}=dispatch("carbon-fields/metaboxes"),fields=metaboxes.getFields(),buttons=["update_language","create_pages","delete_pages"];for(let i=0;i<buttons.length;i++)$("#mds_"+buttons[i]).click(function(e){e.preventDefault(),e.stopPropagation();let button=$(this);button.prop("disabled",!0),button.css("background-color","#663600"),$.post(MDS.ajaxurl,{action:"mds_"+buttons[i],nonce:MDS.nonce},function(data){if(button.prop("disabled",!1),data)button.css("background-color","#006606");else button.css("background-color","#660000");if(setTimeout(function(){button.css("background-color","")},5000),button.attr("id")==="mds_create_pages"||button.attr("id")==="mds_delete_pages"){let pages=JSON.parse(MDS.pages);for(let page in pages){let option=pages[page].option,field=Object.values(fields).find((f)=>f.base_name===MDS.MDS_PREFIX+option);updateFieldValue(field.id,data[option])}}})})});
