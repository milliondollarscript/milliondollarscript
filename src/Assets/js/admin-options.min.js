jQuery(document).ready(function(n){var{select:e,dispatch:t}=window.cf.vendor["@wordpress/data"],e=e("carbon-fields/metaboxes");let a=t("carbon-fields/metaboxes").updateFieldValue,i=e.getFields(),o=n('input[name="_mds_theme_mode"]:checked').val();n('input[name="_mds_theme_mode"]').on("change",function(){var e,t=n(this).val(),s=o;t!==s&&(s=s,t=t,e=n(this),n('input[name="_mds_theme_mode"][value="'+s+'"]').prop("checked",!0),confirm("Switch Theme Mode?\n\nYou are switching from "+s+" to "+t+" mode.\nYour current settings will be backed up.\n\nContinue?"))&&(e.prop("checked",!0),s=o=t,s=n('<div class="notice notice-info mds-theme-processing"><p><strong>Processing theme change...</strong> Applying '+s+" mode colors and regenerating styles.</p></div>"),n(".wrap h1").after(s),setTimeout(function(){n(".mds-theme-processing").fadeOut()},3e3),setTimeout(function(){n("#submit").trigger("click")},100))}),n("#mds-theme-admin-styles").length||n("head").append(`
			<style id="mds-theme-admin-styles">
				.mds-theme-processing {
					animation: pulse 1.5s infinite;
				}
				@keyframes pulse {
					0%, 100% { opacity: 1; }
					50% { opacity: 0.7; }
				}
				
				/* Admin Button States with CSS Variables */
				.mds-admin-button-processing {
					background-color: var(--mds-accessible-warning, #f59e0b) !important;
					color: #ffffff !important;
				}
				
				.mds-admin-button-success {
					background-color: var(--mds-accessible-success, #10b981) !important;
					color: #ffffff !important;
				}
				
				.mds-admin-button-error {
					background-color: var(--mds-accessible-error, #ef4444) !important;
					color: #ffffff !important;
				}
				
				.mds-admin-button-reset {
					background-color: '' !important;
					color: '' !important;
				}
				
				/* Row Highlighting */
				.mds-highlight-row {
					background-color: var(--mds-accessible-warning, #fef3c7) !important;
					color: var(--mds-text-primary, #000) !important;
				}
			</style>
		`);let r=["update_language","create_pages","delete_pages"];for(let s=0;s<r.length;s++)n("#mds_"+r[s]).click(function(e){e.preventDefault(),e.stopPropagation();let t=n(this);t.prop("disabled",!0),t.removeClass("mds-admin-button-success mds-admin-button-error").addClass("mds-admin-button-processing"),n.post(MDS.ajaxurl,{action:"mds_"+r[s],nonce:MDS.nonce},function(e){if(t.prop("disabled",!1),t.removeClass("mds-admin-button-processing"),e?t.addClass("mds-admin-button-success"):t.addClass("mds-admin-button-error"),setTimeout(function(){t.removeClass("mds-admin-button-success mds-admin-button-error mds-admin-button-processing")},5e3),"mds_create_pages"===t.attr("id")||"mds_delete_pages"===t.attr("id")){var s,n=JSON.parse(MDS.pages);for(s in n){let t=n[s].option;var o=Object.values(i).find(e=>e.base_name===MDS.MDS_PREFIX+t);a(o.id,e[t])}}})})});