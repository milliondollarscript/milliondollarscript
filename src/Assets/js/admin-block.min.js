if(!document.getElementById("mds-spinner-style"))document.head.insertAdjacentHTML("beforeend",`
		<style id="mds-spinner-style">
		.mds-error {
			border-color: #e00 !important;
			box-shadow: 0 0 0 2px #fbb !important;
		}
		.mds-tooltip {
			position: absolute !important;
			background: #e00 !important;
			color: #fff !important;
			padding: 2px 8px !important;
			border-radius: 3px !important;
			font-size: 12px !important;
			z-index: 9999 !important;
			margin-top: 2px !important;
			white-space: nowrap !important;
		}
		.mds-spinner-wrapper {
			position: relative !important;
			display: inline-block !important;
			vertical-align: middle !important;
		}
		.mds-loading {
			padding-right: 26px !important;
		}
		.mds-spinner {
			position: absolute !important;
			top: 50% !important;
			right: 8px !important;
			width: 18px !important;
			height: 18px !important;
			transform: translateY(-50%) !important;
			z-index: 999 !important;
			pointer-events: none !important;
			display: block !important;
		}
		.mds-spinner svg {
			animation: mds-spin 0.8s linear infinite;
			display: block !important;
			width: 100% !important;
			height: 100% !important;
		}
		.mds-spinner svg path {
			stroke: #888 !important;
		}
		@keyframes mds-spin {
			100% { transform: rotate(360deg); }
		}
		</style>
	`);jQuery(document).ready(function(z){let I=null,J=null;function L(){let B=I.closest(".cf-block__fields"),C=B.find(z('input[name="'+MDS.MDS_PREFIX+'id"]')),D=B.find(z('input[name="'+MDS.MDS_PREFIX+'width"]')),E=B.find(z('input[name="'+MDS.MDS_PREFIX+'height"]')),N=B.find(z('select[name="'+MDS.MDS_PREFIX+'type"]')),O={id:C.val(),type:N.val(),width:D.val(),height:E.val()},K=wp.data.select("core/block-editor").getSelectedBlock();if(J&&J.readyState!==4)J.abort();D.each(function(){var q=z(this);if(!q.parent().hasClass("mds-spinner-wrapper"))q.wrap('<span class="mds-spinner-wrapper"></span>');if(q.addClass("mds-loading").data("oldval",q.val()),q.siblings(".mds-spinner").length===0)q.after('<span class="mds-spinner"><svg viewBox="0 0 38 38"><defs><linearGradient x1="8.042%" y1="0%" x2="65.682%" y2="23.865%" id="a"><stop stop-color="#fff" stop-opacity="0" offset="0%"/><stop stop-color="#fff" stop-opacity=".631" offset="63.146%"/><stop stop-color="#fff" offset="100%"/></linearGradient></defs><g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke="#ccc" stroke-opacity=".5" cx="18" cy="18" r="18"/><path d="M36 18c0-9.94-8.06-18-18-18" stroke="#888" stroke-opacity="1"></path></g></g></svg></span>')}),E.each(function(){var q=z(this);if(!q.parent().hasClass("mds-spinner-wrapper"))q.wrap('<span class="mds-spinner-wrapper"></span>');if(q.addClass("mds-loading").data("oldval",q.val()),q.siblings(".mds-spinner").length===0)q.after('<span class="mds-spinner"><svg viewBox="0 0 38 38"><defs><linearGradient x1="8.042%" y1="0%" x2="65.682%" y2="23.865%" id="a"><stop stop-color="#fff" stop-opacity="0" offset="0%"/><stop stop-color="#fff" stop-opacity=".631" offset="63.146%"/><stop stop-color="#fff" offset="100%"/></linearGradient></defs><g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke="#ccc" stroke-opacity=".5" cx="18" cy="18" r="18"/><path d="M36 18c0-9.94-8.06-18-18-18" stroke="#888" stroke-opacity="1"></path></g></g></svg></span>')}),J=jQuery.ajax({url:MDS.ajaxurl,data:{action:"mds_admin_ajax",payload:O,mds_admin_ajax_nonce:MDS.mds_admin_ajax_nonce},type:"POST",dataType:"json",success:function(q){if(z(".mds-tooltip").remove(),C.removeClass("mds-error"),q.success){let F=MDS.MDS_PREFIX+"width",G=MDS.MDS_PREFIX+"height";K.attributes.data[F]=q.data.width,K.attributes.data[G]=q.data.height,wp.data.dispatch("core/block-editor").updateBlock(K.clientId,{attributes:K.attributes}),D.val(q.data.width),E.val(q.data.height)}else if(q.data==="Grid not found."){C.addClass("mds-error");let F=C.offset(),G=z('<div class="mds-tooltip">Grid not found.</div>');z("body").append(G);let P=C.outerHeight();G.css({left:F.left,top:F.top+P+2}),setTimeout(function(){G.fadeOut(200,function(){z(this).remove()}),C.removeClass("mds-error")},2500)}},complete:function(){D.removeClass("mds-loading").siblings(".mds-spinner").remove(),E.removeClass("mds-loading").siblings(".mds-spinner").remove()},error:function(q,F){if(F==="abort")D.val(D.data("oldval")).removeClass("mds-loading").siblings(".mds-spinner").remove(),E.val(E.data("oldval")).removeClass("mds-loading").siblings(".mds-spinner").remove()}})}z(document).on("change",'select[name="milliondollarscript_type"]',function(){I=jQuery(this);let B=wp.data.select("core/block-editor").getSelectedBlock();if(B&&B.attributes&&B.attributes.data){let C=MDS.MDS_PREFIX+"type";B.attributes.data[C]=I.val(),wp.data.dispatch("core/block-editor").updateBlock(B.clientId,{attributes:B.attributes})}L()});let M=null;z(document).on("change input",'input[name="milliondollarscript_id"]',function(){I=jQuery(this),z(this).removeClass("mds-error"),z(".mds-tooltip").remove(),clearTimeout(M),M=setTimeout(function(){L()},1000)})});
